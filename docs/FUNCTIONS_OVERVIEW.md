## main
`int main(int argc, char **argv, char **envp)`

Initializes the program, enters a continuous loop to read user input, processes each command line, and then performs final cleanup before exiting.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **argc**  | Unused. The number of command-line arguments. |
| **argv**  | Unused. The array of command-line arguments. |
| **envp**  | The environment variables inherited from the parent process. |

### Return

| Return | Description |
|--------|-------------|
| Exit status | The exit status of the last executed command. |

---

## process_cmdline
`static void process_cmdline(t_program *program, char *line)`

Handles a single command line from start to finish. Adds the input to history and orchestrates tokenization, parsing, pre-execution, and execution.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **program** | The main shell state structure. |
| **line**    | The raw command-line input string. |

### Return

| Return | Description |
|--------|-------------|
| void   | This function does not return a value. |

---

## token_parser_input
`t_node *token_parser_input(char *line, t_token **token_out)`

Wrapper for lex and parse functions. Converts raw input into a token list and builds an AST.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **line**      | The raw user input string. |
| **token_out** | Pointer to a token list pointer to return the start of the token list. |

### Return

| Return | Description |
|--------|-------------|
| AST root pointer | Pointer to the root node of the AST, or `NULL` if tokenization or parsing fails. |

---

## lex
`t_token *lex(char *s, char delim)`

Lexical analyzer. Tokenizes a string into meaningful units based on a delimiter.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **s**     | The input string to tokenize. |
| **delim** | The character used to split the string into tokens. |

### Return

| Return | Description |
|--------|-------------|
| Token list pointer | Start of the newly created token list, or `NULL` on error. |

---

## parse
`t_node *parse(t_token *token_list)`

Parser. Converts a token list into a hierarchical AST representing command structure.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **token_list** | Linked list of tokens generated by the lexical analyzer. |

### Return

| Return | Description |
|--------|-------------|
| AST root pointer | Root node of the AST, or `NULL` if parsing fails. |

---

## pre_execution
`void pre_execution(t_program *program, t_node *node)`

Traverses the AST before execution to perform setup like converting tokens to `char **argv` and identifying builtins vs external commands.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **program** | Main shell state. |
| **node**    | Current AST node being processed. |

### Return

| Return | Description |
|--------|-------------|
| void   | This function does not return a value. |

---

## execution
`int execution(t_program *program, t_node *node, bool is_pipe_child)`

Main execution dispatcher. Recursively traverses the AST to execute command nodes or handle operator nodes (like pipes).

### Parameters

| Parameter | Description |
|-----------|-------------|
| **program**      | Main shell state. |
| **node**         | Current AST node to execute. |
| **is_pipe_child**| Boolean indicating if execution is part of a pipeline. |

### Return

| Return | Description |
|--------|-------------|
| Exit status | Exit status of the executed command or operator. |

---

## handle_operator
`static int handle_operator(t_program *program, t_node *node, bool is_pipe_child)`

Handles execution of operator nodes (currently only PIPE).

### Parameters

| Parameter | Description |
|-----------|-------------|
| **program**      | Main shell state. |
| **node**         | AST node representing the operator. |
| **is_pipe_child**| Boolean flag. |

### Return

| Return | Description |
|--------|-------------|
| Exit status | Exit status of the operation. |

---

## execute_pipeline
`int execute_pipeline(t_program *program, t_node *node)`

Sets up and executes a pipeline by creating a pipe, forking two child processes, and connecting them.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **program** | Main shell state. |
| **node**    | PIPE operator node. |

### Return

| Return | Description |
|--------|-------------|
| Exit status | Exit status of the rightmost command in the pipeline. |

---

## exec_cmd_nopipe
`int exec_cmd_nopipe(t_program *program, t_node *node)`

Forks a new process to execute a command not part of a pipeline. Parent waits for the child.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **program** | Main shell state. |
| **node**    | AST command node. |

### Return

| Return | Description |
|--------|-------------|
| Exit status | Exit status of the child process. |

---

## cleanup_program
`void cleanup_program(t_program *program)`

Frees all allocated memory, including token list, AST, and duplicated environment variables, ensuring a clean exit.

### Parameters

| Parameter | Description |
|-----------|-------------|
| **program** | Main shell state structure. |

### Return

| Return | Description |
|--------|-------------|
| void   | This function does not return a value. |
